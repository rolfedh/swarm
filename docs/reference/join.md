<!--[metadata]>
+++
title = "join"
description = "Create a Swarm node."
keywords = ["swarm, create, join"]
[menu.main]
identifier="swarm.join"
parent="smn_swarm_subcmds"
+++
<![end-metadata]-->

# join — Create a Swarm node

Prerequisite: Before using `join` to create a Swarm node, establish a discovery backend as described in [this discovery topic](../discovery.md).

The `join` command creates a Swarm node whose purpose is to run containers on behalf of the cluster. A typical cluster has multiple Swarm nodes.

## Syntax

    $ docker run swarm join [OPTIONS] <discovery>

## Examples

The following reference information contains snippets from the following two examples.

Example 1. Create a Swarm node in a high-availability cluster with other managers:

    $ docker run -d swarm join --advertise=172.30.0.69:2375 consul://172.30.0.161:8500


Example 2. Create a Swarm node that uses Transport Layer Security (TLS) to authenticate the Docker Swarm nodes:

    $ sudo docker run -d swarm join --addr=node1:2376 token://86222732d62b6868d441d430aee4f055

## Input Arguments

### `<discovery>` — Discovery backend

Before you create a Swarm node, [create a discovery token](create.md) or set up a discovery backend for your cluster.

When you create the swarm node, use the `<discovery>` argument to specify one of the following:
* The discovery token. E.g., `token://0ac50ef75c9739f5bfeeaf00503d4e6e`
* One or more discovery backend nodes. E.g., `consul://172.30.0.165:8500`

The environment variable for `<discovery>` is `$SWARM_DISCOVERY`.

For more information and examples, see the [Docker Swarm Discovery](../discovery.md) topic.

For the `<discovery>` argument, enter one of the following values:

* `token://<token>`
* `consul://<ip1>/<path>`
* `etcd://<ip1>,<ip2>,<ip2>/<path>`
* `file://<path/to/file>`
* `zk://<ip1>,<ip2>/<path>`
* `[nodes://]<iprange>,<iprange>`

Where:

* `<token>` is a discovery token generated by Docker Hub's hosted discovery service. To generate this discovery token, use the [`create`](create.md) command.
> Warning: Docker Hub's hosted discovery service is not recommended for production use. It’s intended to be used for testing/development. See the discovery backends for production use.

* `ip1`, `ip2`, `ip3` are each the IP address and port numbers of a discovery backend node.
* `path` (optional) specifies a path to a key-value store on the discovery backend. For example, to maintain multiple distinct key-value stores on one backend, use separate paths for each one.
* `path/to/file` is the path to a file that contains a static list of the Swarm managers and nodes that are members the cluster.
* `iprange` is an IP address or a range of IP addresses followed by a port number.

## Options

### `--advertise <ip>:<port>` or `--addr <ip>:<port>` — Advertise the Docker Engine's IP and port number
Advertise the IP address and port number of the Docker Engine. For example, `--advertise 172.30.0.161:4000`. Swarm managers MUST be able to reach this Swarm node at this address.

The environment variable for `--advertise` is `$SWARM_ADVERTISE`.

### `--heartbeat "<interval>s"` — Period between each heartbeat
Specify the interval, in seconds, between heartbeats the node sends to the discovery backend to indicate that it is healthy and reachable. By default, the interval is 60 seconds.

### --ttl "180s" — Sets the expiration of an ephemeral node

### --delay "0s" — Add a random delay in [0s,delay] to avoid synchronized registration

### --discovery-opt [--discovery-opt option --discovery-opt option] — discovery options
